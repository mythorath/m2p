# ==================================
# M2P Environment Configuration
# ==================================

# Application Environment
NODE_ENV=production                    # production, development, test
PORT=5000                              # Server port
CLIENT_URL=https://yourdomain.com      # Frontend URL for CORS

# ==================================
# Database Configuration
# ==================================
DATABASE_URL=postgresql://m2p_user:your_db_password@localhost:5432/m2p_db
DATABASE_POOL_SIZE=20                  # Connection pool size
DATABASE_SSL=false                     # Enable SSL for database connection

# ==================================
# Redis Configuration
# ==================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password     # Redis password
REDIS_DB=0                             # Redis database number
REDIS_POOL_SIZE=10                     # Connection pool size

# ==================================
# Authentication & Security
# ==================================
JWT_SECRET=your_very_secure_jwt_secret_min_32_characters_long
JWT_EXPIRY=86400                       # JWT expiration in seconds (24 hours)
WALLET_CHALLENGE_EXPIRY=300            # Challenge expiration in seconds (5 minutes)

# ==================================
# Rate Limiting
# ==================================
RATE_LIMIT_WINDOW=900000               # Time window in ms (15 minutes)
RATE_LIMIT_MAX_REQUESTS=1000           # Max requests per window per user
RATE_LIMIT_AUTH_MAX=5                  # Max auth attempts per window

# ==================================
# CORS Configuration
# ==================================
CORS_ORIGIN=https://yourdomain.com     # Allowed CORS origin
CORS_CREDENTIALS=true                  # Allow credentials

# ==================================
# Logging
# ==================================
LOG_LEVEL=info                         # debug, info, warn, error
LOG_FILE=/var/log/m2p/app.log          # Log file path
LOG_MAX_SIZE=10m                       # Max log file size
LOG_MAX_FILES=10                       # Max number of log files

# ==================================
# Monitoring
# ==================================
PROMETHEUS_PORT=9090                   # Prometheus metrics port
GRAFANA_PORT=3001                      # Grafana dashboard port
ENABLE_METRICS=true                    # Enable Prometheus metrics
HEALTH_CHECK_INTERVAL=30000            # Health check interval in ms

# ==================================
# Pool Configuration
# ==================================
DEFAULT_POOL_FEE=2.5                   # Default pool fee percentage
MAX_POOLS_PER_PLAYER=10                # Max pools a player can join
POOL_REWARD_INTERVAL=600000            # Reward distribution interval (10 min)

# ==================================
# Achievement Configuration
# ==================================
ACHIEVEMENT_CHECK_INTERVAL=60000       # How often to check achievements (1 min)
ACHIEVEMENT_BATCH_SIZE=100             # Batch size for achievement processing

# ==================================
# WebSocket Configuration
# ==================================
WS_HEARTBEAT_INTERVAL=30000            # WebSocket heartbeat interval
WS_MAX_CONNECTIONS=10000               # Max concurrent WebSocket connections
WS_MESSAGE_RATE_LIMIT=100              # Max messages per minute per connection

# ==================================
# File Upload
# ==================================
MAX_FILE_SIZE=5242880                  # Max upload size in bytes (5MB)
UPLOAD_DIR=/home/m2p/m2p/uploads       # Upload directory

# ==================================
# Email Configuration (Optional)
# ==================================
SMTP_HOST=smtp.example.com             # SMTP server
SMTP_PORT=587                          # SMTP port
SMTP_USER=noreply@yourdomain.com       # SMTP username
SMTP_PASSWORD=your_smtp_password       # SMTP password
SMTP_FROM=M2P <noreply@yourdomain.com> # From address

# ==================================
# External Services (Optional)
# ==================================

# Blockchain RPC
BLOCKCHAIN_RPC_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
BLOCKCHAIN_NETWORK=mainnet             # mainnet, testnet, goerli

# AWS S3 (for backups/uploads)
AWS_ACCESS_KEY_ID=your_aws_key
AWS_SECRET_ACCESS_KEY=your_aws_secret
AWS_REGION=us-east-1
AWS_S3_BUCKET=m2p-backups

# Sentry (Error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# ==================================
# Feature Flags
# ==================================
ENABLE_API_DOCS=false                  # Enable Swagger API docs
ENABLE_REGISTRATION=true               # Allow new player registration
ENABLE_POOL_CREATION=true              # Allow players to create pools
ENABLE_ACHIEVEMENTS=true               # Enable achievement system
ENABLE_LEADERBOARDS=true               # Enable leaderboards

# ==================================
# Development Only
# ==================================
# ENABLE_CORS=true                     # Enable CORS for all origins
# DEBUG=true                           # Enable debug mode
# MOCK_WALLET=true                     # Use mock wallet for testing
