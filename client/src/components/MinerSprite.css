/* Miner Sprite Styles */
.miner-sprite {
  position: relative;
  display: inline-block;
}

/* Sprite sheet mode */
.miner-sprite.sprite-sheet {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* CSS-only animation mode */
.miner-sprite.css-animation {
  transform-origin: bottom center;
}

.miner-body {
  position: relative;
  width: 100%;
  height: 100%;
  transform-origin: bottom center;
}

/* Miner parts */
.miner-head {
  position: absolute;
  top: 10%;
  left: 30%;
  width: 40%;
  height: 30%;
  background: #FFD4A3;
  border-radius: 50%;
  border: 2px solid #8B4513;
}

.miner-head::before {
  content: '';
  position: absolute;
  top: -30%;
  left: 10%;
  width: 80%;
  height: 40%;
  background: #FFD700;
  border-radius: 50% 50% 0 0;
  border: 2px solid #8B4513;
}

.miner-torso {
  position: absolute;
  top: 40%;
  left: 25%;
  width: 50%;
  height: 35%;
  background: #4169E1;
  border: 2px solid #00008B;
  border-radius: 5px;
}

.miner-arm-left,
.miner-arm-right {
  position: absolute;
  top: 45%;
  width: 15%;
  height: 30%;
  background: #FFD4A3;
  border: 2px solid #8B4513;
  border-radius: 10px;
}

.miner-arm-left {
  left: 10%;
  transform-origin: top center;
}

.miner-arm-right {
  right: 10%;
  transform-origin: top center;
}

.miner-leg-left,
.miner-leg-right {
  position: absolute;
  bottom: 5%;
  width: 18%;
  height: 25%;
  background: #8B4513;
  border: 2px solid #654321;
  border-radius: 5px;
}

.miner-leg-left {
  left: 28%;
}

.miner-leg-right {
  right: 28%;
}

.miner-pickaxe {
  position: absolute;
  top: 35%;
  right: 5%;
  width: 40%;
  height: 5%;
  background: #8B4513;
  transform-origin: left center;
  z-index: 10;
}

.miner-pickaxe::after {
  content: '';
  position: absolute;
  right: -15px;
  top: -10px;
  width: 0;
  height: 0;
  border-left: 20px solid #808080;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
}

/* Idle Animation - Breathing */
.miner-sprite.idle .miner-body {
  animation: idle-breathe 2s ease-in-out infinite;
}

@keyframes idle-breathe {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-3px) scale(1.02, 0.98);
  }
}

/* Mining Animation - Pickaxe swing */
.miner-sprite.mining .miner-body {
  animation: mining-bounce 0.6s ease-in-out infinite;
}

.miner-sprite.mining .miner-arm-right {
  animation: mining-swing 0.6s ease-in-out infinite;
}

.miner-sprite.mining .miner-pickaxe {
  animation: pickaxe-swing 0.6s ease-in-out infinite;
}

@keyframes mining-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(5px);
  }
}

@keyframes mining-swing {
  0%, 100% {
    transform: rotate(0deg);
  }
  30% {
    transform: rotate(-45deg);
  }
  60% {
    transform: rotate(20deg);
  }
}

@keyframes pickaxe-swing {
  0%, 100% {
    transform: rotate(0deg);
  }
  30% {
    transform: rotate(-60deg);
  }
  60% {
    transform: rotate(30deg);
  }
}

/* Celebrating Animation - Victory dance */
.miner-sprite.celebrating .miner-body {
  animation: celebrate-jump 0.4s ease-in-out infinite;
}

.miner-sprite.celebrating .miner-arm-left {
  animation: celebrate-wave-left 0.4s ease-in-out infinite;
}

.miner-sprite.celebrating .miner-arm-right {
  animation: celebrate-wave-right 0.4s ease-in-out infinite;
}

@keyframes celebrate-jump {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-10px) rotate(-5deg);
  }
  75% {
    transform: translateY(-10px) rotate(5deg);
  }
}

@keyframes celebrate-wave-left {
  0%, 100% {
    transform: rotate(-20deg);
  }
  50% {
    transform: rotate(-80deg);
  }
}

@keyframes celebrate-wave-right {
  0%, 100% {
    transform: rotate(20deg);
  }
  50% {
    transform: rotate(80deg);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .miner-sprite.idle .miner-body,
  .miner-sprite.mining .miner-body,
  .miner-sprite.celebrating .miner-body,
  .miner-sprite.mining .miner-arm-right,
  .miner-sprite.mining .miner-pickaxe,
  .miner-sprite.celebrating .miner-arm-left,
  .miner-sprite.celebrating .miner-arm-right {
    animation: none;
  }
}
